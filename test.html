<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="display: flex; justify-content: center;">
    <button onclick="handleGoogleLogin()" style="width: 100px; height: 30px; border-radius: 10px; border: none; color: white; background-color: black;">click me!</button>
</body>

<script src="https://accounts.google.com/gsi/client" async defer></script>
<script>
    function handleGoogleLogin() {
      google.accounts.id.initialize({
        client_id: "27766021953-j80tkd1gfea6r3mlhtguqfq1s486e9qk.apps.googleusercontent.com",
        callback: async (response) => {
          console.log("Google JWT Token:", response.credential);
  
          const res = await fetch("http://localhost:5000/auth/google", {
            method: "POST",
            headers: { "Content-Type": "application/json" },     
            body: JSON.stringify({ token: response.credential })
          });
  
          const data = await res.json();
          console.log("Backend Response:", data);
  
          if (data.token) {
            localStorage.setItem("authToken", data.token);
          }
        }
      });
  
      google.accounts.id.prompt(); // Show Google login popup
    }
  </script>
</html>